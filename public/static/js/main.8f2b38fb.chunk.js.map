{"version":3,"sources":["static/logo-eq-works-white.webp","components/Header.js","components/LineGraph.js","components/BarGraph.js","pages/Stats.js","pages/Events.js","components/LocationButton.js","components/TableHeaderButton.js","components/Table.js","components/Map.js","pages/Poi.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","button","margin","color","buttonActive","borderBottom","Header","classes","location","useLocation","className","AppBar","position","Toolbar","Box","display","style","height","alignItems","src","logo","alt","Button","component","routerLink","to","pathname","padding","flexDirection","justifyContent","boxShadow","borderRadius","width","breakpoints","down","chartContainer","title","fontSize","LineGraph","rawData","xAxis","yAxis","stepSize","useState","chartData","setChartData","poiName","setPoiName","poiNames","setPoiNames","options","legend","responsive","maintainAspectRatio","elements","point","radius","tooltips","mode","intersect","callbacks","label","tooltipItem","data","numeral","value","format","scales","xAxes","type","time","displayFormats","millisecond","second","minute","hour","day","week","month","quarter","year","tooltipFormat","yAxes","scaleLabel","labelString","ticks","callback","index","values","useEffect","rawData_","xAxis_","yAxis_","poi_","counterForDataInEachDay","forEach","i","newPoint","name","y","clicks","impressions","toFixed","parseFloat","revenue","substring","length","x","push","newChartData","addDays","Date","toString","itemToAdd","generateChartData","includes","generatePoiNames","Card","Grid","container","direction","justify","Typography","variant","paddingBottom","fontWeight","FormControl","InputLabel","Select","onChange","event","target","MenuItem","map","canvas","gradient","getContext","createLinearGradient","addColorStop","datasets","backgroundColor","borderColor","formControl","BarGraph","initialChartType","showChartType","showOneDate","showTwoDates","date","setDate","chartLabels","setChartLabels","chartType","setChartType","dates","setDates","labels","renderDates","chartType_","t","d","gridLines","toUpperCase","textAlign","id","subDays","Stats","hourlyStats","setHourlyStats","dailyStats","setDailyStats","loading","setLoading","a","sessionStorage","getItem","JSON","parse","fetch","process","then","response","json","setItem","stringify","fetchData","catch","err","console","log","marginLeft","marginBottom","marginTop","CircularProgress","Events","hourlyEvents","setHourlyEvents","dailyEvents","setDailyEvents","LocationButton","lat","lon","setMapCenter","setMapZoom","onClick","lng","TableHeaderButton","titleToShow","setCompareKey","setSortDirection","isSelected","sortDirection","minWidth","endIcon","ArrowDownward","ArrowUpward","card","flexWrap","tableContainer","maxWidth","form","pageGrid","CustomTable","tableData","regenerateTableData","setTableData","searchTerm","setSearchTerm","dateOne","setDateOne","dateTwo","setDateTwo","errorFirstDate","setErrorFirstDate","errorSecondDate","setErrorSecondDate","compareKey","generateTableCells","rowData","tableCells","tableCell","TableCell","noValidate","autoComplete","TextField","toLowerCase","error","FormHelperText","TableContainer","Table","stickyHeader","aria-label","TableHead","TableRow","align","TableBody","concat","sort","b","comapreKey_","sortDirection_","compare","row","customMarker","L","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","ChangeView","center","zoom","useMap","setView","Map","locations","MapContainer","minZoom","TileLayer","url","attribution","maxZoom","tileSize","zoomOffset","accessToken","Marker","icon","Popup","events","Poi","poiData","setPoiData","mapCenter","mapZoom","generateTableData","poiData_","startDate","endDate","poiNames_","poiEmptyData","element","poiDataFromStorage","initialTableData","item","alignSelf","xs","createMuiTheme","typography","fontFamily","join","textTransform","responsiveFontSizes","App","ThemeProvider","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8f2b38fb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-eq-works-white.9dfae69e.webp\";","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Box } from \"@material-ui/core\";\r\nimport logo from \"../static/logo-eq-works-white.webp\";\r\nimport { Link as routerLink, useLocation } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t},\r\n\tbutton: {\r\n\t\tmargin: \"1rem\",\r\n\t\tcolor: \"white\",\r\n\t},\r\n\tbuttonActive: { margin: \"1rem\", color: \"white\", borderBottom: \"1px solid white\" },\r\n}));\r\n\r\nfunction Header() {\r\n\tconst classes = useStyles();\r\n\tconst location = useLocation();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\tstyle={{ height: \"100%\", flexGrow: \"1\" }}\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img src={logo} alt=\"mockup\" style={{ height: \"40px\" }} />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcomponent={routerLink}\r\n\t\t\t\t\t\tto=\"/stats\"\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tlocation.pathname === \"/stats\"\r\n\t\t\t\t\t\t\t\t? classes.buttonActive\r\n\t\t\t\t\t\t\t\t: classes.button\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSTATS\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcomponent={routerLink}\r\n\t\t\t\t\t\tto=\"/events\"\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tlocation.pathname === \"/events\"\r\n\t\t\t\t\t\t\t\t? classes.buttonActive\r\n\t\t\t\t\t\t\t\t: classes.button\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tEVENTS\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcomponent={routerLink}\r\n\t\t\t\t\t\tto=\"/poi\"\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tlocation.pathname === \"/poi\"\r\n\t\t\t\t\t\t\t\t? classes.buttonActive\r\n\t\t\t\t\t\t\t\t: classes.button\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPOI\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport numeral from \"numeral\";\r\nimport {\r\n\tCard,\r\n\tFormControl,\r\n\tGrid,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tSelect,\r\n\tTypography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { addDays } from \"date-fns\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tpadding: \"1.5rem 1rem 1.5rem 1rem\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\tmargin: \"1.5rem\",\r\n\t\tboxShadow: \"0 0 25px rgb(0 0 0 / 18%)\",\r\n\t\tborderRadius: \"10px\",\r\n\t\twidth: \"500px\",\r\n\t\t[theme.breakpoints.down(\"l\")]: {\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t},\r\n\r\n\tchartContainer: {\r\n\t\theight: \"18rem\",\r\n\t\twidth: \"100%\",\r\n\t},\r\n\r\n\ttitle: {\r\n\t\tfontSize: 14,\r\n\t},\r\n}));\r\n\r\nfunction LineGraph({ rawData, xAxis, yAxis, title, stepSize }) {\r\n\tconst [chartData, setChartData] = useState([]);\r\n\tconst [poiName, setPoiName] = useState(\"All\");\r\n\tconst [poiNames, setPoiNames] = useState([]);\r\n\tconst classes = useStyles();\r\n\r\n\tconst onPoiChange = (event) => {\r\n\t\tsetPoiName(event.target.value);\r\n\t};\r\n\r\n\tconst options = {\r\n\t\tlegend: {\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t\tresponsive: true,\r\n\t\tmaintainAspectRatio: false,\r\n\t\telements: {\r\n\t\t\tpoint: {\r\n\t\t\t\tradius: 2,\r\n\t\t\t},\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tmode: \"index\",\r\n\t\t\tintersect: false,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function (tooltipItem, data) {\r\n\t\t\t\t\tif (yAxis === \"clicksPerImpressions\") {\r\n\t\t\t\t\t\treturn numeral(tooltipItem.value).format(\"0.000%\");\r\n\t\t\t\t\t} else if (yAxis === \"revenuePerClick\") {\r\n\t\t\t\t\t\treturn numeral(tooltipItem.value).format(\"0.0a\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn numeral(tooltipItem.value).format(\"0,0\");\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"time\",\r\n\t\t\t\t\ttime: {\r\n\t\t\t\t\t\tstepSize: stepSize,\r\n\t\t\t\t\t\tdisplayFormats: {\r\n\t\t\t\t\t\t\tmillisecond: \"MMM DD\",\r\n\t\t\t\t\t\t\tsecond: \"MMM DD\",\r\n\t\t\t\t\t\t\tminute: \"MMM DD\",\r\n\t\t\t\t\t\t\thour: \"MMM DD \",\r\n\t\t\t\t\t\t\tday: \"MMM DD\",\r\n\t\t\t\t\t\t\tweek: \"MMM DD\",\r\n\t\t\t\t\t\t\tmonth: \"MMM DD\",\r\n\t\t\t\t\t\t\tquarter: \"MMM DD\",\r\n\t\t\t\t\t\t\tyear: \"MMM DD\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttooltipFormat: \"ll\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: title,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tcallback: function (value, index, values) {\r\n\t\t\t\t\t\t\tif (yAxis === \"clicksPerImpressions\") {\r\n\t\t\t\t\t\t\t\treturn numeral(value).format(\"0.000%\");\r\n\t\t\t\t\t\t\t} else if (\r\n\t\t\t\t\t\t\t\tyAxis === \"revenue\" ||\r\n\t\t\t\t\t\t\t\tyAxis === \"revenuePerClick\"\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\treturn numeral(value).format(\"$0.0a\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn numeral(value).format(\"0.0a\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst generateChartData = (rawData_, xAxis_, yAxis_, poi_) => {\r\n\t\t\tlet chartData = [];\r\n\r\n\t\t\t//we need this counter to calculate the average of data in click per impression and revenue per click charts\r\n\t\t\tlet counterForDataInEachDay = 1;\r\n\r\n\t\t\trawData_.forEach((data, i) => {\r\n\t\t\t\tlet newPoint = {};\r\n\t\t\t\tif (poi_ === \"All\" || data.name === poi_) {\r\n\t\t\t\t\tif (yAxis === \"clicksPerImpressions\") {\r\n\t\t\t\t\t\tlet y = data.clicks / data.impressions;\r\n\t\t\t\t\t\ty = y.toFixed(5);\r\n\t\t\t\t\t\tnewPoint.y = parseFloat(y);\r\n\t\t\t\t\t} else if (yAxis === \"revenuePerClick\") {\r\n\t\t\t\t\t\tlet y = data.revenue / data.clicks;\r\n\t\t\t\t\t\tnewPoint.y = parseFloat(y);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewPoint.y = parseFloat(data[yAxis_]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (poi_ === \"All\") {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\ti === 0 ||\r\n\t\t\t\t\t\t\tdata[xAxis_].substring(0, 10) !==\r\n\t\t\t\t\t\t\t\trawData[i - 1][xAxis_].substring(0, 10)\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\ti !== 0 &&\r\n\t\t\t\t\t\t\t\t(yAxis === \"clicksPerImpressions\" ||\r\n\t\t\t\t\t\t\t\t\tyAxis === \"revenuePerClick\")\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tchartData[\r\n\t\t\t\t\t\t\t\t\tchartData.length - 1\r\n\t\t\t\t\t\t\t\t].y /= counterForDataInEachDay;\r\n\r\n\t\t\t\t\t\t\t\tcounterForDataInEachDay = 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tnewPoint.x = data[xAxis_].substring(0, 10);\r\n\t\t\t\t\t\t\tchartData.push(newPoint);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcounterForDataInEachDay++;\r\n\t\t\t\t\t\t\tchartData[chartData.length - 1].y += parseFloat(newPoint.y);\r\n\r\n\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\ti === rawData_.length - 1 &&\r\n\t\t\t\t\t\t\t\t(yAxis === \"clicksPerImpressions\" ||\r\n\t\t\t\t\t\t\t\t\tyAxis === \"revenuePerClick\")\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tchartData[\r\n\t\t\t\t\t\t\t\t\tchartData.length - 1\r\n\t\t\t\t\t\t\t\t].y /= counterForDataInEachDay;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewPoint.x = data[xAxis_].substring(0, 10);\r\n\t\t\t\t\t\tchartData.push(newPoint);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// dates with zero events need to be added to chart data\r\n\t\t\tif (title === \"Number Of Events\" && poiName !== \"All\") {\r\n\t\t\t\tlet newChartData = [];\r\n\r\n\t\t\t\tchartData.forEach((point, i) => {\r\n\t\t\t\t\tnewChartData.push(point);\r\n\t\t\t\t\tif (i !== chartData.length - 1) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\taddDays(new Date(point.x), 1).toString() !==\r\n\t\t\t\t\t\t\tnew Date(chartData[i + 1].x).toString()\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tconst itemToAdd = { x: addDays(new Date(point.x), 1), y: 0 };\r\n\t\t\t\t\t\t\tnewChartData.push(itemToAdd);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tchartData = newChartData;\r\n\t\t\t}\r\n\r\n\t\t\treturn chartData;\r\n\t\t};\r\n\r\n\t\tsetChartData(generateChartData(rawData, xAxis, yAxis, poiName));\r\n\t}, [rawData, xAxis, yAxis, poiName, title]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst generatePoiNames = (rawData_) => {\r\n\t\t\tlet poiNames = [];\r\n\t\t\trawData_.forEach((data) => {\r\n\t\t\t\tif (!poiNames.includes(data.name)) {\r\n\t\t\t\t\tpoiNames.push(data.name);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn poiNames;\r\n\t\t};\r\n\t\tsetPoiNames(generatePoiNames(rawData));\r\n\t}, [rawData]);\r\n\r\n\t//creating gradiant background for chart\r\n\tconst data = (canvas) => {\r\n\t\tconst ctx = canvas.getContext(\"2d\");\r\n\t\tconst gradient = ctx.createLinearGradient(0, 0, 0, 360);\r\n\t\tgradient.addColorStop(1, \"rgba(34,193,195,0)\");\r\n\t\tgradient.addColorStop(0, \"rgba(63,81,181,0.9308765742625175)\");\r\n\r\n\t\treturn {\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tbackgroundColor: gradient,\r\n\t\t\t\t\tborderColor: \"#3F51B5\",\r\n\t\t\t\t\tdata: chartData,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t};\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\tclassName={classes.root}\r\n\t\t\tstyle={title.includes(\"Events\") ? { width: \"70vw\" } : {}}\r\n\t\t>\r\n\t\t\t<Grid container direction=\"row\" justify=\"space-between\" alignItems=\"center\">\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\tstyle={{ paddingBottom: \"1rem\", fontWeight: \"300\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<FormControl style={{ margin: \"0 1rem 1rem 1rem\" }} variant=\"outlined\">\r\n\t\t\t\t\t<InputLabel>POI</InputLabel>\r\n\t\t\t\t\t<Select value={poiName} onChange={onPoiChange} label=\"POI\">\r\n\t\t\t\t\t\t<MenuItem value=\"All\" key={1}>\r\n\t\t\t\t\t\t\t{\"All\"}\r\n\t\t\t\t\t\t</MenuItem>\r\n\r\n\t\t\t\t\t\t{poiNames &&\r\n\t\t\t\t\t\t\tpoiNames.map((name, i) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={name} key={i + 2}>\r\n\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<div className={classes.chartContainer}>\r\n\t\t\t\t<Line options={options} data={data} />\r\n\t\t\t</div>\r\n\t\t</Card>\r\n\t);\r\n}\r\n\r\nexport default LineGraph;\r\n","import {\r\n\tCard,\r\n\tFormControl,\r\n\tGrid,\r\n\tInputLabel,\r\n\tmakeStyles,\r\n\tMenuItem,\r\n\tSelect,\r\n\tTypography,\r\n} from \"@material-ui/core\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { format, subDays } from \"date-fns\";\r\nimport numeral from \"numeral\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tpadding: \"1rem 1.5rem 1rem 1.5rem\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t\tmargin: \"1.5rem\",\r\n\t\tborderRadius: \"10px\",\r\n\t\tboxShadow: \"0 0 25px rgb(0 0 0 / 18%)\",\r\n\t\t[theme.breakpoints.down(\"l\")]: {\r\n\t\t\twidth: \"100%\",\r\n\t\t},\r\n\t\twidth: \"80%\",\r\n\t},\r\n\r\n\tchartContainer: {\r\n\t\twidth: \"100%\",\r\n\t\theight: \"50vh\",\r\n\t},\r\n\r\n\ttitle: {\r\n\t\tfontSize: 14,\r\n\t},\r\n\r\n\tformControl: {\r\n\t\tmargin: \"1rem\",\r\n\t},\r\n}));\r\n\r\nfunction BarGraph({\r\n\trawData,\r\n\ttitle,\r\n\tinitialChartType,\r\n\tshowChartType,\r\n\tshowOneDate,\r\n\tshowTwoDates,\r\n}) {\r\n\tconst [date, setDate] = useState(\"\");\r\n\tconst [chartData, setChartData] = useState([]);\r\n\tconst [chartLabels, setChartLabels] = useState([]);\r\n\tconst [chartType, setChartType] = useState(\"revenue\");\r\n\tconst [dates, setDates] = useState([]);\r\n\tconst [poiName, setPoiName] = useState(\"All\");\r\n\tconst [poiNames, setPoiNames] = useState([]);\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst onDateChange = (event) => {\r\n\t\tsetDate(event.target.value);\r\n\t};\r\n\r\n\tconst onTypeChange = (event) => {\r\n\t\tsetChartType(event.target.value);\r\n\t};\r\n\r\n\tconst onPoiChange = (event) => {\r\n\t\tsetPoiName(event.target.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst generatePoiNames = (rawData_) => {\r\n\t\t\tlet poiNames = [];\r\n\t\t\trawData_.forEach((data) => {\r\n\t\t\t\tif (!poiNames.includes(data.name)) {\r\n\t\t\t\t\tpoiNames.push(data.name);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn poiNames;\r\n\t\t};\r\n\r\n\t\tsetPoiNames(generatePoiNames(rawData));\r\n\r\n\t\tlet labels = [];\r\n\r\n\t\tfor (let i = 0; i < 24; i++) {\r\n\t\t\tlabels[i] = i;\r\n\t\t}\r\n\r\n\t\tsetChartLabels(labels);\r\n\t\tif (rawData[0]) {\r\n\t\t\tsetDate(rawData[0].date);\r\n\t\t\tsetDates(renderDates(rawData));\r\n\t\t}\r\n\t\tif (initialChartType) {\r\n\t\t\tsetChartType(initialChartType);\r\n\t\t}\r\n\t}, [rawData, initialChartType]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst generateChartData = (rawData_, chartType_, poi_) => {\r\n\t\t\tlet newChartData = [];\r\n\t\t\tfor (let i = 0; i < 24; i++) {\r\n\t\t\t\tnewChartData[i] = 0;\r\n\t\t\t}\r\n\r\n\t\t\trawData_.forEach((data) => {\r\n\t\t\t\tif (data.date === date || title.includes(\"Overall\")) {\r\n\t\t\t\t\tif (poi_ === \"All\" || data.name === poi_) {\r\n\t\t\t\t\t\tnewChartData[data.hour] += parseFloat(data[chartType_]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn newChartData;\r\n\t\t};\r\n\r\n\t\tsetChartData(generateChartData(rawData, chartType, poiName));\r\n\t}, [chartType, date, rawData, title, poiName]);\r\n\r\n\t//creating gradiant background for chart\r\n\tconst data = (canvas) => {\r\n\t\tconst ctx = canvas.getContext(\"2d\");\r\n\t\tconst gradient = ctx.createLinearGradient(0, 80, 0, 600);\r\n\t\tgradient.addColorStop(1, \"rgba(34,193,195,0)\");\r\n\t\tgradient.addColorStop(0, \"rgba(63,81,181,0.9308765742625175)\");\r\n\r\n\t\treturn {\r\n\t\t\tlabels: chartLabels,\r\n\t\t\tdatasets: [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: \"Hour\",\r\n\t\t\t\t\tbackgroundColor: gradient,\r\n\t\t\t\t\tborderColor: \"#3F51B5\",\r\n\t\t\t\t\tdata: chartData,\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t};\r\n\t};\r\n\r\n\tconst renderDates = (rawData_) => {\r\n\t\tlet dates = [];\r\n\t\tdates[0] = rawData_[0].date;\r\n\t\trawData_.forEach((data) => {\r\n\t\t\tif (dates[dates.length - 1] !== data.date) {\r\n\t\t\t\tdates.push(data.date);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn dates;\r\n\t};\r\n\r\n\t//options for chart\r\n\tconst options = {\r\n\t\tresponsive: true,\r\n\t\tmaintainAspectRatio: false,\r\n\t\tlegend: {\r\n\t\t\tdisplay: false,\r\n\t\t},\r\n\t\ttooltips: {\r\n\t\t\tmode: \"index\",\r\n\t\t\tintersect: false,\r\n\t\t\tcallbacks: {\r\n\t\t\t\tlabel: function (tooltipItem, data) {\r\n\t\t\t\t\tif (chartType === \"revenue\") {\r\n\t\t\t\t\t\treturn numeral(tooltipItem.value).format(\"$0,0\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn numeral(tooltipItem.value).format(\"0a\");\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\ttitle: function (t, d) {\r\n\t\t\t\t\treturn \"Hour: \" + d.labels[t[0].index];\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t},\r\n\t\tscales: {\r\n\t\t\txAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: false,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: \"Hour\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t\tyAxes: [\r\n\t\t\t\t{\r\n\t\t\t\t\tscaleLabel: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t\tlabelString: chartType.toUpperCase(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\tgridLines: {\r\n\t\t\t\t\t\tdisplay: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tticks: {\r\n\t\t\t\t\t\tcallback: function (value, index, values) {\r\n\t\t\t\t\t\t\tif (chartType === \"revenue\") {\r\n\t\t\t\t\t\t\t\treturn numeral(value).format(\"$0,0\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn numeral(value).format(\"0a\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t],\r\n\t\t},\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Card className={classes.root}>\r\n\t\t\t<Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmargin: \"1rem 0 1rem 1rem\",\r\n\t\t\t\t\t\tpaddingBottom: \"1rem\",\r\n\t\t\t\t\t\tfontWeight: \"300\",\r\n\t\t\t\t\t\tflexGrow: \"1\",\r\n\t\t\t\t\t\ttextAlign: \"left\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<FormControl className={classes.formControl} variant=\"outlined\">\r\n\t\t\t\t\t<InputLabel id=\"demo-simple-select-filled-label\">POI</InputLabel>\r\n\t\t\t\t\t<Select value={poiName} onChange={onPoiChange} label=\"POI\">\r\n\t\t\t\t\t\t<MenuItem value=\"All\" key={1}>\r\n\t\t\t\t\t\t\t{\"All\"}\r\n\t\t\t\t\t\t</MenuItem>\r\n\r\n\t\t\t\t\t\t{poiNames &&\r\n\t\t\t\t\t\t\tpoiNames.map((name, i) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={name} key={i + 2}>\r\n\t\t\t\t\t\t\t\t\t\t{name}\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t\t{showChartType && (\r\n\t\t\t\t\t<FormControl className={classes.formControl} variant=\"outlined\">\r\n\t\t\t\t\t\t<InputLabel>Chart Type</InputLabel>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tvalue={chartType}\r\n\t\t\t\t\t\t\tonChange={onTypeChange}\r\n\t\t\t\t\t\t\tlabel=\"Chart Type\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MenuItem value=\"revenue\">Revenue</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem value=\"clicks\">Clicks</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem value=\"impressions\">Impressions</MenuItem>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t)}\r\n\t\t\t\t{showOneDate && (\r\n\t\t\t\t\t<FormControl className={classes.formControl} variant=\"outlined\">\r\n\t\t\t\t\t\t<InputLabel>Date</InputLabel>\r\n\t\t\t\t\t\t<Select value={date} onChange={onDateChange} label=\"Date\">\r\n\t\t\t\t\t\t\t{dates ? (\r\n\t\t\t\t\t\t\t\tdates.map((date, i) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem value={date} key={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{format(\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubDays(new Date(date), 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"dd MMM yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t\t)}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<MenuItem value={date} key={1}>\r\n\t\t\t\t\t\t\t\t\t{format(subDays(new Date(date), 1), \"dd MMM yyyy\")}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\r\n\t\t\t<div className={classes.chartContainer}>\r\n\t\t\t\t{\" \"}\r\n\t\t\t\t<Bar options={options} data={data} />\r\n\t\t\t</div>\r\n\t\t</Card>\r\n\t);\r\n}\r\n\r\nexport default BarGraph;\r\n","import { CircularProgress, Grid, Typography } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport LineGraph from \"../components/LineGraph\";\r\nimport BarGraph from \"../components/BarGraph\";\r\n\r\nimport \"./Stats.css\";\r\n\r\nfunction Stats() {\r\n\tconst [hourlyStats, setHourlyStats] = useState([]);\r\n\tconst [dailyStats, setDailyStats] = useState([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tif (sessionStorage.getItem(\"hourlyStats\")) {\r\n\t\t\t\tsetHourlyStats(JSON.parse(sessionStorage.getItem(\"hourlyStats\")));\r\n\t\t\t\tsetDailyStats(JSON.parse(sessionStorage.getItem(\"dailyStats\")));\r\n\t\t\t} else {\r\n\t\t\t\tawait fetch(process.env.REACT_APP_BACKEND_URL + \"api/stats/hourly\")\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tsetHourlyStats(data);\r\n\t\t\t\t\t\tsessionStorage.setItem(\"hourlyStats\", JSON.stringify(data));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tawait fetch(process.env.REACT_APP_BACKEND_URL + \"api/stats/daily\")\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tsetDailyStats(data);\r\n\t\t\t\t\t\tsessionStorage.setItem(\"dailyStats\", JSON.stringify(data));\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchData()\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer\r\n\t\t\tjustify=\"center\"\r\n\t\t\talignItems=\"center\"\r\n\t\t\tdirection=\"column\"\r\n\t\t\tclassName=\"statsPage\"\r\n\t\t>\r\n\t\t\t<Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"h3\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tfontWeight: \"200\",\r\n\t\t\t\t\t\tborderBottom: \"2px solid rgb(80 138 221)\",\r\n\t\t\t\t\t\tmarginLeft: \"3rem\",\r\n\t\t\t\t\t\tpaddingBottom: \".5rem\",\r\n\t\t\t\t\t\tmarginBottom: \"1rem\",\r\n\t\t\t\t\t\tmarginTop: \"1rem\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tDaily Stats\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t\tstyle={{ height: \"90vh\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CircularProgress style={{ marginBottom: \"10rem\" }} />\r\n\t\t\t\t</Grid>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"graphContainer\">\r\n\t\t\t\t\t\t<LineGraph\r\n\t\t\t\t\t\t\trawData={dailyStats}\r\n\t\t\t\t\t\t\txAxis={\"date\"}\r\n\t\t\t\t\t\t\tyAxis={\"revenue\"}\r\n\t\t\t\t\t\t\ttitle=\"Revenue\"\r\n\t\t\t\t\t\t\tstepSize={5}\r\n\t\t\t\t\t\t></LineGraph>\r\n\t\t\t\t\t\t<LineGraph\r\n\t\t\t\t\t\t\trawData={dailyStats}\r\n\t\t\t\t\t\t\txAxis={\"date\"}\r\n\t\t\t\t\t\t\tyAxis={\"impressions\"}\r\n\t\t\t\t\t\t\ttitle=\"Impressions\"\r\n\t\t\t\t\t\t\tstepSize={5}\r\n\t\t\t\t\t\t></LineGraph>\r\n\t\t\t\t\t\t<LineGraph\r\n\t\t\t\t\t\t\trawData={dailyStats}\r\n\t\t\t\t\t\t\txAxis={\"date\"}\r\n\t\t\t\t\t\t\tyAxis={\"clicks\"}\r\n\t\t\t\t\t\t\ttitle=\"Clicks\"\r\n\t\t\t\t\t\t\tstepSize={5}\r\n\t\t\t\t\t\t></LineGraph>\r\n\t\t\t\t\t\t<LineGraph\r\n\t\t\t\t\t\t\trawData={dailyStats}\r\n\t\t\t\t\t\t\txAxis={\"date\"}\r\n\t\t\t\t\t\t\tyAxis={\"clicksPerImpressions\"}\r\n\t\t\t\t\t\t\ttitle=\"Click Per Impression Percentage\"\r\n\t\t\t\t\t\t\tstepSize={5}\r\n\t\t\t\t\t\t></LineGraph>\r\n\t\t\t\t\t\t<LineGraph\r\n\t\t\t\t\t\t\trawData={dailyStats}\r\n\t\t\t\t\t\t\txAxis={\"date\"}\r\n\t\t\t\t\t\t\tyAxis={\"revenuePerClick\"}\r\n\t\t\t\t\t\t\ttitle=\"Revenue Per Click\"\r\n\t\t\t\t\t\t\tstepSize={5}\r\n\t\t\t\t\t\t></LineGraph>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tdirection=\"row\"\r\n\t\t\t\t\t\tjustify=\"flex-start\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant=\"h3\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontWeight: \"200\",\r\n\t\t\t\t\t\t\t\tborderBottom: \"2px solid rgb(80 138 221)\",\r\n\t\t\t\t\t\t\t\tmarginLeft: \"3rem\",\r\n\t\t\t\t\t\t\t\tpaddingBottom: \".5rem\",\r\n\t\t\t\t\t\t\t\tmarginBottom: \"1rem\",\r\n\t\t\t\t\t\t\t\tmarginTop: \"2.5rem\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHourly Stats\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<div className=\"graphContainer\">\r\n\t\t\t\t\t\t<BarGraph\r\n\t\t\t\t\t\t\trawData={hourlyStats}\r\n\t\t\t\t\t\t\ttitle=\"Hourly Stats In Each Day\"\r\n\t\t\t\t\t\t\tshowChartType\r\n\t\t\t\t\t\t\tshowOneDate\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"graphContainer\">\r\n\t\t\t\t\t\t<BarGraph\r\n\t\t\t\t\t\t\trawData={hourlyStats}\r\n\t\t\t\t\t\t\ttitle=\"Overall Hourly Stats\"\r\n\t\t\t\t\t\t\tshowChartType\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default Stats;\r\n","import { CircularProgress, Grid, Typography } from \"@material-ui/core\";\r\nimport React, { useEffect, useState, Fragment } from \"react\";\r\nimport LineGraph from \"../components/LineGraph\";\r\nimport BarGraph from \"../components/BarGraph\";\r\n\r\nimport \"./Events.css\";\r\n\r\nfunction Events() {\r\n\tconst [hourlyEvents, setHourlyEvents] = useState([]);\r\n\tconst [dailyEvents, setDailyEvents] = useState([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tif (sessionStorage.getItem(\"hourlyEvents\")) {\r\n\t\t\t\tsetHourlyEvents(JSON.parse(sessionStorage.getItem(\"hourlyEvents\")));\r\n\t\t\t\tsetDailyEvents(JSON.parse(sessionStorage.getItem(\"dailyEvents\")));\r\n\t\t\t} else {\r\n\t\t\t\tawait fetch(process.env.REACT_APP_BACKEND_URL + \"api/events/hourly\")\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tsetHourlyEvents(data);\r\n\t\t\t\t\t\tsessionStorage.setItem(\"hourlyEvents\", JSON.stringify(data));\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tawait fetch(process.env.REACT_APP_BACKEND_URL + \"api/events/daily\")\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\t//console.log(data);\r\n\t\t\t\t\t\tsetDailyEvents(data);\r\n\t\t\t\t\t\tsessionStorage.setItem(\"dailyEvents\", JSON.stringify(data));\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchData()\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer\r\n\t\t\tjustify=\"center\"\r\n\t\t\talignItems=\"center\"\r\n\t\t\tdirection=\"column\"\r\n\t\t\tclassName=\"EventsPage\"\r\n\t\t>\r\n\t\t\t<Grid container direction=\"row\" justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"h3\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tfontWeight: \"200\",\r\n\t\t\t\t\t\tborderBottom: \"2px solid rgb(80 138 221)\",\r\n\t\t\t\t\t\tmarginLeft: \"3rem\",\r\n\t\t\t\t\t\tpaddingBottom: \".5rem\",\r\n\t\t\t\t\t\tmarginBottom: \"1rem\",\r\n\t\t\t\t\t\tmarginTop: \"1rem\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tDaily Events\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Grid\r\n\t\t\t\t\tcontainer\r\n\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t\tstyle={{ height: \"90vh\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<CircularProgress style={{ marginBottom: \"10rem\" }} />\r\n\t\t\t\t</Grid>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className=\"graphContainer\">\r\n\t\t\t\t\t\t<LineGraph\r\n\t\t\t\t\t\t\trawData={dailyEvents}\r\n\t\t\t\t\t\t\txAxis={\"date\"}\r\n\t\t\t\t\t\t\tyAxis={\"events\"}\r\n\t\t\t\t\t\t\ttitle=\"Number Of Events\"\r\n\t\t\t\t\t\t\tstepSize={5}\r\n\t\t\t\t\t\t></LineGraph>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\tdirection=\"row\"\r\n\t\t\t\t\t\tjustify=\"flex-start\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\tvariant=\"h3\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tfontWeight: \"200\",\r\n\t\t\t\t\t\t\t\tborderBottom: \"2px solid rgb(80 138 221)\",\r\n\t\t\t\t\t\t\t\tmarginLeft: \"3rem\",\r\n\t\t\t\t\t\t\t\tpaddingBottom: \".5rem\",\r\n\t\t\t\t\t\t\t\tmarginBottom: \"1rem\",\r\n\t\t\t\t\t\t\t\tmarginTop: \"2.5rem\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tHourly Events\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<div className=\"graphContainer\">\r\n\t\t\t\t\t\t<BarGraph\r\n\t\t\t\t\t\t\trawData={hourlyEvents}\r\n\t\t\t\t\t\t\ttitle=\"Hourly Events In Each Day\"\r\n\t\t\t\t\t\t\tinitialChartType=\"events\"\r\n\t\t\t\t\t\t\tshowOneDate\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"graphContainer\">\r\n\t\t\t\t\t\t<BarGraph\r\n\t\t\t\t\t\t\trawData={hourlyEvents}\r\n\t\t\t\t\t\t\ttitle=\"Overall Hourly Events\"\r\n\t\t\t\t\t\t\tinitialChartType=\"events\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default Events;\r\n","import { Button } from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nfunction LocationButton({ lat, lon, setMapCenter, setMapZoom }) {\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tstyle={{ width: \"130px\", height: \"36px\" }}\r\n\t\t\tvariant=\"contained\"\r\n\t\t\tcolor=\"primary\"\r\n\t\t\tonClick={() => {\r\n\t\t\t\tsetMapCenter({ lat: lat, lng: lon });\r\n\t\t\t\tsetMapZoom(13);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\tShow On Map\r\n\t\t</Button>\r\n\t);\r\n}\r\n\r\nexport default LocationButton;\r\n","import { Button } from \"@material-ui/core\";\r\nimport { ArrowUpward, ArrowDownward } from \"@material-ui/icons\";\r\nimport React from \"react\";\r\n\r\nfunction TableHeaderButton({\r\n\ttitleToShow,\r\n\ttitle,\r\n\tsetCompareKey,\r\n\tsetSortDirection,\r\n\tisSelected,\r\n\tsortDirection,\r\n}) {\r\n\tconst clickHandler = () => {\r\n\t\tsetCompareKey(title);\r\n\t\tif (isSelected) {\r\n\t\t\tsetSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\r\n\t\t} else {\r\n\t\t\tsetSortDirection(\"desc\");\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tstyle={{ minWidth: \"0px\", marginLeft: \"-.5rem\" }}\r\n\t\t\tonClick={clickHandler}\r\n\t\t\tendIcon={\r\n\t\t\t\tsortDirection === \"asc\" && isSelected ? (\r\n\t\t\t\t\t<ArrowDownward />\r\n\t\t\t\t) : sortDirection === \"desc\" && isSelected ? (\r\n\t\t\t\t\t<ArrowUpward />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t\"\"\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{titleToShow}\r\n\t\t</Button>\r\n\t);\r\n}\r\n\r\nexport default TableHeaderButton;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport {\r\n\tCard,\r\n\tFormControl,\r\n\tFormHelperText,\r\n\tGrid,\r\n\tInputLabel,\r\n\tmakeStyles,\r\n\tMenuItem,\r\n\tSelect,\r\n\tTableRow,\r\n\tTextField,\r\n} from \"@material-ui/core\";\r\nimport { format, subDays } from \"date-fns\";\r\nimport numeral from \"numeral\";\r\nimport LocationButton from \"../components/LocationButton\";\r\nimport TableHeaderButton from \"../components/TableHeaderButton\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tcard: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexGrow: \"1\",\r\n\t\tpadding: \"1.5rem\",\r\n\t\tborderRadius: \"10px 10px 0px 0px\",\r\n\t\tboxShadow: \"none\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\r\n\ttableContainer: {\r\n\t\twidth: \"100%\",\r\n\t\tmaxWidth: \"800px\",\r\n\t},\r\n\r\n\tformControl: {\r\n\t\tmargin: \"1rem\",\r\n\t\tminWidth: \"132px\",\r\n\t},\r\n\r\n\tform: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexGrow: \"1\",\r\n\t\tmargin: \"1rem\",\r\n\t\tminWidth: \"150px\",\r\n\t},\r\n\tpageGrid: {\r\n\t\tmargin: \"1rem 0rem\",\r\n\t\tmaxWidth: \"800px\",\r\n\t\tboxShadow: \"0 0 25px rgb(0 0 0 / 18%)\",\r\n\t\tborderRadius: \"10px\",\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\tmaxWidth: \"90vw\",\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nfunction CustomTable({\r\n\trawData,\r\n\ttableData,\r\n\tregenerateTableData,\r\n\tsetTableData,\r\n\tpoiNames,\r\n\tsetMapCenter,\r\n\tsetMapZoom,\r\n}) {\r\n\tconst [searchTerm, setSearchTerm] = useState(\"\");\r\n\tconst [dateOne, setDateOne] = useState(\"\");\r\n\tconst [dateTwo, setDateTwo] = useState(\"\");\r\n\tconst [dates, setDates] = useState([]);\r\n\tconst [errorFirstDate, setErrorFirstDate] = useState(false);\r\n\tconst [errorSecondDate, setErrorSecondDate] = useState(false);\r\n\tconst [compareKey, setCompareKey] = useState(\"revenue\");\r\n\tconst [sortDirection, setSortDirection] = useState(\"asc\");\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst onDateOneChange = (event) => {\r\n\t\tif (event.target.value < dateTwo) {\r\n\t\t\tsetErrorFirstDate(false);\r\n\t\t\tsetDateOne(event.target.value);\r\n\t\t\tsetTableData(\r\n\t\t\t\tregenerateTableData(rawData, event.target.value, dateTwo, poiNames)\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tsetErrorFirstDate(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onDateTwoChange = (event) => {\r\n\t\tif (event.target.value > dateOne) {\r\n\t\t\tsetErrorSecondDate(false);\r\n\t\t\tsetDateTwo(event.target.value);\r\n\t\t\tsetTableData(\r\n\t\t\t\tregenerateTableData(rawData, dateOne, event.target.value, poiNames)\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tsetErrorSecondDate(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onSearchTermChange = (event) => {\r\n\t\tsetSearchTerm(event.target.value.toLowerCase());\r\n\t};\r\n\r\n\tconst renderDates = (rawData_) => {\r\n\t\tlet dates = [];\r\n\t\tdates[0] = rawData_[0].date;\r\n\t\trawData_.forEach((data) => {\r\n\t\t\tif (dates[dates.length - 1] !== data.date) {\r\n\t\t\t\tdates.push(data.date);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn dates;\r\n\t};\r\n\r\n\tconst generateTableCells = (rowData) => {\r\n\t\tlet tableCells = [];\r\n\t\tfor (const data in rowData) {\r\n\t\t\tif (data !== \"lat\" && data !== \"lon\") {\r\n\t\t\t\tconst tableCell = (\r\n\t\t\t\t\t<TableCell key={data}>\r\n\t\t\t\t\t\t{data === \"revenue\"\r\n\t\t\t\t\t\t\t? numeral(rowData[data]).format(\"$0.0a\")\r\n\t\t\t\t\t\t\t: data === \"name\"\r\n\t\t\t\t\t\t\t? rowData[data]\r\n\t\t\t\t\t\t\t: numeral(rowData[data]).format(\"0,0\")}\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t);\r\n\t\t\t\ttableCells.push(tableCell);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn tableCells;\r\n\t};\r\n\r\n\tconst compare = (a, b, comapreKey_, sortDirection_ = \"asc\") => {\r\n\t\tif (a[comapreKey_] < b[comapreKey_]) {\r\n\t\t\treturn sortDirection_ === \"asc\" ? 1 : -1;\r\n\t\t}\r\n\t\tif (a[comapreKey_] > b[comapreKey_]) {\r\n\t\t\treturn sortDirection === \"asc\" ? -1 : 1;\r\n\t\t}\r\n\t\treturn 0;\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (rawData[0]) {\r\n\t\t\tsetDateOne(rawData[0].date);\r\n\t\t\tsetDateTwo(rawData[rawData.length - 1].date);\r\n\t\t\tsetDates(renderDates(rawData));\r\n\t\t}\r\n\t}, [rawData]);\r\n\r\n\treturn (\r\n\t\t<Grid container justify=\"center\" className={classes.pageGrid}>\r\n\t\t\t<Card className={classes.card}>\r\n\t\t\t\t<form noValidate autoComplete=\"off\" className={classes.form}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel=\"Search POI Name\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tvalue={searchTerm}\r\n\t\t\t\t\t\tonChange={onSearchTermChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t\t<FormControl\r\n\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\terror={errorFirstDate}\r\n\t\t\t\t>\r\n\t\t\t\t\t<InputLabel id=\"demo-simple-select-filled-label\">From</InputLabel>\r\n\t\t\t\t\t<Select value={dateOne} onChange={onDateOneChange} label=\"From\">\r\n\t\t\t\t\t\t{dates ? (\r\n\t\t\t\t\t\t\tdates.map((date, i) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={date} key={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{format(\r\n\t\t\t\t\t\t\t\t\t\t\tsubDays(new Date(date), 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\"dd MMM yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t)}{\" \"}\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MenuItem value={dateOne} key={1}>\r\n\t\t\t\t\t\t\t\t{format(subDays(new Date(dateOne), 1), \"dd MMM yyyy\")}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t{errorFirstDate && (\r\n\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\tFirst date should be before second date\r\n\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</FormControl>\r\n\t\t\t\t<FormControl\r\n\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\terror={errorSecondDate}\r\n\t\t\t\t>\r\n\t\t\t\t\t<InputLabel id=\"demo-simple-select-filled-label\">To</InputLabel>\r\n\t\t\t\t\t<Select value={dateTwo} onChange={onDateTwoChange} label=\"To\">\r\n\t\t\t\t\t\t{dates ? (\r\n\t\t\t\t\t\t\tdates.map((date, i) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={date} key={i + 1}>\r\n\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{format(\r\n\t\t\t\t\t\t\t\t\t\t\tsubDays(new Date(date), 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\"dd MMM yyyy\"\r\n\t\t\t\t\t\t\t\t\t\t)}{\" \"}\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<MenuItem value={dateTwo} key={1}>\r\n\t\t\t\t\t\t\t\t{format(subDays(new Date(dateTwo), 1), \"dd MMM yyyy\")}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t\t{errorSecondDate && (\r\n\t\t\t\t\t\t<FormHelperText>\r\n\t\t\t\t\t\t\tSecond date should be after first date\r\n\t\t\t\t\t\t</FormHelperText>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</FormControl>\r\n\t\t\t</Card>\r\n\t\t\t<TableContainer className={classes.tableContainer}>\r\n\t\t\t\t<Table stickyHeader aria-label=\"sticky table\">\r\n\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\tkey={1}\r\n\t\t\t\t\t\t\t\talign={\"left\"}\r\n\t\t\t\t\t\t\t\tstyle={{ minWidth: \"5rem\" }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TableHeaderButton\r\n\t\t\t\t\t\t\t\t\ttitle=\"name\"\r\n\t\t\t\t\t\t\t\t\ttitleToShow=\"POI Name\"\r\n\t\t\t\t\t\t\t\t\tsetSortDirection={setSortDirection}\r\n\t\t\t\t\t\t\t\t\tsetCompareKey={setCompareKey}\r\n\t\t\t\t\t\t\t\t\tisSelected={compareKey === \"name\"}\r\n\t\t\t\t\t\t\t\t\tsortDirection={sortDirection}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\tkey={2}\r\n\t\t\t\t\t\t\t\talign={\"left\"}\r\n\t\t\t\t\t\t\t\tstyle={{ minWidth: \"5rem\" }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TableHeaderButton\r\n\t\t\t\t\t\t\t\t\ttitle=\"revenue\"\r\n\t\t\t\t\t\t\t\t\ttitleToShow=\"Revenue\"\r\n\t\t\t\t\t\t\t\t\tsetSortDirection={setSortDirection}\r\n\t\t\t\t\t\t\t\t\tsetCompareKey={setCompareKey}\r\n\t\t\t\t\t\t\t\t\tisSelected={compareKey === \"revenue\"}\r\n\t\t\t\t\t\t\t\t\tsortDirection={sortDirection}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\tkey={3}\r\n\t\t\t\t\t\t\t\talign={\"left\"}\r\n\t\t\t\t\t\t\t\tstyle={{ minWidth: \"5rem\" }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TableHeaderButton\r\n\t\t\t\t\t\t\t\t\ttitle=\"impressions\"\r\n\t\t\t\t\t\t\t\t\ttitleToShow=\"Impressions\"\r\n\t\t\t\t\t\t\t\t\tsetSortDirection={setSortDirection}\r\n\t\t\t\t\t\t\t\t\tsetCompareKey={setCompareKey}\r\n\t\t\t\t\t\t\t\t\tisSelected={compareKey === \"impressions\"}\r\n\t\t\t\t\t\t\t\t\tsortDirection={sortDirection}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\tkey={4}\r\n\t\t\t\t\t\t\t\talign={\"left\"}\r\n\t\t\t\t\t\t\t\tstyle={{ minWidth: \"5rem\" }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TableHeaderButton\r\n\t\t\t\t\t\t\t\t\ttitle=\"clicks\"\r\n\t\t\t\t\t\t\t\t\ttitleToShow=\"Clicks\"\r\n\t\t\t\t\t\t\t\t\tsetSortDirection={setSortDirection}\r\n\t\t\t\t\t\t\t\t\tsetCompareKey={setCompareKey}\r\n\t\t\t\t\t\t\t\t\tisSelected={compareKey === \"clicks\"}\r\n\t\t\t\t\t\t\t\t\tsortDirection={sortDirection}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\tkey={5}\r\n\t\t\t\t\t\t\t\talign={\"left\"}\r\n\t\t\t\t\t\t\t\tstyle={{ minWidth: \"5rem\" }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TableHeaderButton\r\n\t\t\t\t\t\t\t\t\ttitle=\"events\"\r\n\t\t\t\t\t\t\t\t\ttitleToShow=\"Events\"\r\n\t\t\t\t\t\t\t\t\tsetSortDirection={setSortDirection}\r\n\t\t\t\t\t\t\t\t\tsetCompareKey={setCompareKey}\r\n\t\t\t\t\t\t\t\t\tisSelected={compareKey === \"events\"}\r\n\t\t\t\t\t\t\t\t\tsortDirection={sortDirection}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell\r\n\t\t\t\t\t\t\t\tkey={6}\r\n\t\t\t\t\t\t\t\talign={\"left\"}\r\n\t\t\t\t\t\t\t\tstyle={{ minWidth: \"5rem\" }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\tLocation\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{tableData &&\r\n\t\t\t\t\t\t\t[]\r\n\t\t\t\t\t\t\t\t.concat(tableData)\r\n\t\t\t\t\t\t\t\t.sort((a, b) => {\r\n\t\t\t\t\t\t\t\t\treturn compare(a, b, compareKey, sortDirection);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.map((row) => {\r\n\t\t\t\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t\t\t\t!searchTerm ||\r\n\t\t\t\t\t\t\t\t\t\trow.name.toLowerCase().includes(searchTerm)\r\n\t\t\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={row.name}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{generateTableCells(row).map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(tableCell) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn tableCell;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell key=\"location\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<LocationButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlat={row.lat}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlon={row.lon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMapZoom={setMapZoom}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMapCenter={setMapCenter}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t></LocationButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</TableContainer>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default CustomTable;\r\n","import React from \"react\";\r\nimport { MapContainer, Marker, TileLayer, useMap, Popup } from \"react-leaflet\";\r\nimport numeral from \"numeral\";\r\nimport MarkerClusterGroup from \"react-leaflet-markercluster\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"./Map.css\";\r\n\r\nimport L from \"leaflet\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nexport const customMarker = new L.Icon({\r\n\ticonUrl: \"https://unpkg.com/leaflet@1.5.1/dist/images/marker-icon.png\",\r\n\ticonSize: [25, 41],\r\n\ticonAnchor: [10, 41],\r\n\tpopupAnchor: [2, -40],\r\n});\r\n\r\nfunction ChangeView({ center, zoom }) {\r\n\tconst map = useMap();\r\n\tmap.setView(center, zoom);\r\n\treturn null;\r\n}\r\n\r\nfunction Map({ center, zoom, locations }) {\r\n\treturn (\r\n\t\t<div className=\"map\">\r\n\t\t\t<MapContainer center={center} zoom={zoom} minZoom={2}>\r\n\t\t\t\t<ChangeView center={center} zoom={zoom} />\r\n\t\t\t\t<TileLayer\r\n\t\t\t\t\turl=\"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}\"\r\n\t\t\t\t\tattribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery  <a href=\"https://www.mapbox.com/\">Mapbox</a>'\r\n\t\t\t\t\tmaxZoom={18}\r\n\t\t\t\t\tid=\"mapbox/streets-v11\"\r\n\t\t\t\t\ttileSize={512}\r\n\t\t\t\t\tzoomOffset={-1}\r\n\t\t\t\t\taccessToken=\"pk.eyJ1Ijoic21hcG8iLCJhIjoiY2trd3NraGJ5MGp1eDJ4bzRob2F4c3AyNiJ9._QbSCAyV2ilH2KPoBJ7uzA\"\r\n\t\t\t\t/>\r\n\t\t\t\t<MarkerClusterGroup>\r\n\t\t\t\t\t{locations.map((location, i) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Marker\r\n\t\t\t\t\t\t\t\ticon={customMarker}\r\n\t\t\t\t\t\t\t\tposition={[location.lat, location.lon]}\r\n\t\t\t\t\t\t\t\tkey={i + 1}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Popup>\r\n\t\t\t\t\t\t\t\t\t<Grid container direction=\"column\">\r\n\t\t\t\t\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<strong>{location.name}</strong>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t{`Revenue: ${numeral(location.revenue).format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"$0.0a\"\r\n\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t{`Impressions: ${numeral(\r\n\t\t\t\t\t\t\t\t\t\t\t\tlocation.impressions\r\n\t\t\t\t\t\t\t\t\t\t\t).format(\"0.0a\")}`}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t{`Clicks: ${numeral(location.clicks).format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"0.0a\"\r\n\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t{`Events: ${numeral(location.events).format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"0a\"\r\n\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Popup>\r\n\t\t\t\t\t\t\t</Marker>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</MarkerClusterGroup>\r\n\t\t\t</MapContainer>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Map;\r\n","import { Card, CircularProgress, Grid, makeStyles, Typography } from \"@material-ui/core\";\r\nimport React, { useEffect, useState, Fragment } from \"react\";\r\nimport CustomTable from \"../components/Table\";\r\nimport Map from \"../components/Map\";\r\nimport \"./Poi.css\";\r\n\r\nconst useStyles = makeStyles({\r\n\tcard: {\r\n\t\tmaxWidth: \"30rem\",\r\n\t\tpadding: \"1.5rem\",\r\n\t\tmargin: \"1rem\",\r\n\t\tboxShadow: \"0 0 25px rgb(0 0 0 / 18%)\",\r\n\t\tborderRadius: \"10px\",\r\n\t},\r\n});\r\n\r\nfunction Poi() {\r\n\tconst [poiData, setPoiData] = useState([]);\r\n\tconst [mapCenter, setMapCenter] = useState({ lat: 47.279229, lng: -99.492188 });\r\n\tconst [mapZoom, setMapZoom] = useState(3);\r\n\tconst [poiNames, setPoiNames] = useState([]);\r\n\tconst [tableData, setTableData] = useState([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst generatePoiNames = (rawData_) => {\r\n\t\tlet poiNames = [];\r\n\t\trawData_.forEach((data) => {\r\n\t\t\tif (!poiNames.includes(data.name)) {\r\n\t\t\t\tpoiNames.push(data.name);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn poiNames;\r\n\t};\r\n\r\n\tconst generateTableData = (poiData_, startDate, endDate, poiNames_) => {\r\n\t\tlet tableData = [];\r\n\t\tpoiNames_.forEach((name) => {\r\n\t\t\tlet poiEmptyData = {\r\n\t\t\t\tname: name,\r\n\t\t\t\trevenue: 0,\r\n\t\t\t\timpressions: 0,\r\n\t\t\t\tclicks: 0,\r\n\t\t\t\tevents: 0,\r\n\t\t\t};\r\n\r\n\t\t\ttableData.push(poiEmptyData);\r\n\t\t});\r\n\r\n\t\t// console.log(tableData);\r\n\r\n\t\tpoiData_.forEach((data) => {\r\n\t\t\tif (data.date >= startDate && data.date <= endDate) {\r\n\t\t\t\ttableData.forEach((element) => {\r\n\t\t\t\t\tif (element.name === data.name) {\r\n\t\t\t\t\t\tif (data.events !== null) {\r\n\t\t\t\t\t\t\telement.events += parseFloat(data.events);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telement.revenue += parseFloat(data.revenue);\r\n\t\t\t\t\t\telement.impressions += parseFloat(data.impressions);\r\n\t\t\t\t\t\telement.clicks += parseFloat(data.clicks);\r\n\t\t\t\t\t\telement.lat = data.lat;\r\n\t\t\t\t\t\telement.lon = data.lon;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn tableData;\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tif (sessionStorage.getItem(\"poiData\")) {\r\n\t\t\t\tlet poiDataFromStorage = JSON.parse(sessionStorage.getItem(\"poiData\"));\r\n\t\t\t\tsetPoiData(poiDataFromStorage);\r\n\t\t\t\tsetPoiNames(generatePoiNames(poiDataFromStorage));\r\n\t\t\t} else {\r\n\t\t\t\tawait fetch(process.env.REACT_APP_BACKEND_URL + \"api/poi\")\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tsetPoiData(data);\r\n\t\t\t\t\t\tsetPoiNames(generatePoiNames(data));\r\n\t\t\t\t\t\tsessionStorage.setItem(\"poiData\", JSON.stringify(data));\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchData()\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (poiData[0]) {\r\n\t\t\tlet initialTableData = generateTableData(\r\n\t\t\t\tpoiData,\r\n\t\t\t\tpoiData[0].date,\r\n\t\t\t\tpoiData[poiData.length - 1].date,\r\n\t\t\t\tpoiNames\r\n\t\t\t);\r\n\r\n\t\t\tsetTableData(initialTableData);\r\n\t\t}\r\n\t}, [poiData, poiNames]);\r\n\r\n\treturn (\r\n\t\t<Grid\r\n\t\t\tcontainer\r\n\t\t\tjustify=\"center\"\r\n\t\t\talignItems=\"center\"\r\n\t\t\tdirection=\"column\"\r\n\t\t\tclassName=\"PoiPage\"\r\n\t\t>\r\n\t\t\t<Grid\r\n\t\t\t\tcontainer\r\n\t\t\t\titem\r\n\t\t\t\tdirection=\"row\"\r\n\t\t\t\tjustify=\"flex-start\"\r\n\t\t\t\talignItems=\"center\"\r\n\t\t\t\tstyle={{ alignSelf: \"flex-start\" }}\r\n\t\t\t>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tvariant=\"h3\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tfontWeight: \"200\",\r\n\t\t\t\t\t\tborderBottom: \"2px solid rgb(80 138 221)\",\r\n\t\t\t\t\t\tmarginLeft: \"3rem\",\r\n\t\t\t\t\t\tpaddingBottom: \".5rem\",\r\n\t\t\t\t\t\tmarginBottom: \"1rem\",\r\n\t\t\t\t\t\tmarginTop: \"1rem\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tPOI Data\r\n\t\t\t\t</Typography>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Grid\r\n\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tjustify=\"center\"\r\n\t\t\t\t\t\tstyle={{ height: \"90vh\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CircularProgress style={{ marginBottom: \"10rem\" }} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<CustomTable\r\n\t\t\t\t\t\t\t\trawData={poiData}\r\n\t\t\t\t\t\t\t\ttableData={tableData}\r\n\t\t\t\t\t\t\t\tclassName={classes.card}\r\n\t\t\t\t\t\t\t\tregenerateTableData={generateTableData}\r\n\t\t\t\t\t\t\t\tsetTableData={setTableData}\r\n\t\t\t\t\t\t\t\tpoiNames={poiNames}\r\n\t\t\t\t\t\t\t\tsetMapCenter={setMapCenter}\r\n\t\t\t\t\t\t\t\tsetMapZoom={setMapZoom}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<Card className=\"mapCard\">\r\n\t\t\t\t\t\t\t\t<Map\r\n\t\t\t\t\t\t\t\t\tcenter={mapCenter}\r\n\t\t\t\t\t\t\t\t\tzoom={mapZoom}\r\n\t\t\t\t\t\t\t\t\tlocations={tableData}\r\n\t\t\t\t\t\t\t\t></Map>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}\r\n\r\nexport default Poi;\r\n","import \"./App.css\";\nimport Header from \"./components/Header\";\nimport Stats from \"./pages/Stats\";\nimport Events from \"./pages/Events\";\nimport Poi from \"./pages/Poi\";\nimport { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { BrowserRouter, Route, Redirect } from \"react-router-dom\";\n\nlet theme = createMuiTheme({\n\ttypography: {\n\t\tfontFamily: [\n\t\t\t'\"Poppins\"',\n\t\t\t\"-apple-system\",\n\t\t\t\"BlinkMacSystemFont\",\n\t\t\t'\"Segoe UI\"',\n\t\t\t\"Roboto\",\n\t\t\t'\"Helvetica Neue\"',\n\t\t\t\"Arial\",\n\t\t\t\"sans-serif\",\n\t\t\t'\"Apple Color Emoji\"',\n\t\t\t'\"Segoe UI Emoji\"',\n\t\t\t'\"Segoe UI Symbol\"',\n\t\t].join(\",\"),\n\t\tbutton: {\n\t\t\ttextTransform: \"none\",\n\t\t},\n\t},\n});\n\ntheme = responsiveFontSizes(theme);\n\nfunction App() {\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<div className=\"App\">\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<Header className=\"App__Header\"></Header>\n\t\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t\t<Redirect to=\"/stats\" />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route path=\"/poi\" exact component={Poi} />\n\t\t\t\t\t<Route path=\"/stats\" exact component={Stats} />\n\t\t\t\t\t<Route path=\"/events\" exact component={Events} />\n\t\t\t\t</BrowserRouter>\n\t\t\t</div>\n\t\t</ThemeProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}